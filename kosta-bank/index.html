<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="css/navbar.css" type="text/css" />
    <link rel="stylesheet" href="css/common.css" type="text/css" />
    <link rel="stylesheet" href="css/footer.css" type="text/css" />
    <title>IT's KOSTA</title>
    <style>
      main article {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: auto;
        gap: 10px;
        margin-top: 5px;
      }

      main article section img {
        width: 100%;
      }

      main article section button {
        padding: 5px;
        font-size: 15px;
        width: 80px;
        float: right;
      }
    </style>
  </head>
  <body>
    <header>
      <nav>
        <!-- 5개의 메뉴생성 -->
        <ul>
          <li class="logo">
            <a href="index.html"
              ><img src="images/logo.jpg" alt="로고입니다."
            /></a>
          </li>
          <li><a href="./personal.html">개인</a></li>
          <li><a href="busines.html">기업</a></li>
          <li><a href="login.html">로그인</a></li>
          <li><a href="register.html">회원가입</a></li>
        </ul>
      </nav>
    </header>

    <div id="banner">지금 당신의 행복! IT's KOSTA Life!</div>

    <main>
      <article>
        <!-- 총 3개의 서브영역 -->
        <section>
          <img src="https://picsum.photos/id/1/200" alt="" />
          <h2>제목1 : main-item 1</h2>
          <p>내용1</p>
          <button data-main-item-id="10">button 1</button>
        </section>

        <section>
          <img src="https://picsum.photos/id/2/200" alt="" />
          <h2>제목2 : main-item 2</h2>
          <p>내용2</p>
          <button data-main-item-id="20">button 2</button>
        </section>

        <section>
          <img src="https://picsum.photos/id/3/200" alt="" />
          <h2>제목3 : main-item 3</h2>
          <p>내용3.</p>
          <button data-main-item-id="30">button 3</button>
        </section>
      </article>
    </main>

    <footer>
      <ul>
        <li>경기도 성남시 오리역 한국소프트웨어진흥협회</li>
        <li>02-0000-0000</li>
      </ul>
    </footer>

    <script>
      // banner의 text 주기적으로 변경 (5초)
      let bannerList = [
        "국민의 은행이 되겠습니다.",
        "5060 웰컴패키지, 최대 7만원 혜택을 드립니다.",
        "타행이체, 자동이체 수수료 면제",
        "저녁 6시까지 영업합니다.",
      ];
      let index = 0;

      setInterval(() => {
        document.getElementById("banner").innerText = bannerList[index++];
        index %= bannerList.length;
      }, 1000);

      // setTimeout 재귀 호출
      let bannerEvent = function () {
        document.getElementById("banner").innerText = bannerList[index++];
        index %= bannerList.length;

        setTimeout(bannerEvent, 1000);
      };
      bannerEvent(); // 함수 호출

      // button 클릭 시 data-main-item-id 의 값 출력
      document.querySelectorAll("section button").forEach((btnEle) => {
        btnEle.addEventListener("click", () => {
          alert(`id = ${event.target.getAttribute("data-main-item-id")}`);
        });
      });

      // main에 data 추가
      document.querySelectorAll("section > button").forEach((btnEle) => {
        //버튼에 이벤트 등록
        item.addEventListener("click", function () {
          //속성의 값을 조회
          alert(item.closest("section")); //클릭된 버튼과 가장 가까운 class=".main-item"인 노드 찾기
          let divEle = item.closest("section");

          let id = divEle.dataset.mainItemId;
          // let id = divEle.getAttribute("data-main-item-id");
        });
      });
    </script>
  </body>
</html>
